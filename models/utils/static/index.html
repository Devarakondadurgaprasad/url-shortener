<html>
<head>
<meta charset="utf-8">
<title>URL Shortener</title>
<style>
body { font-family: Arial, sans-serif; margin: 40px; }
input { padding: 8px; margin: 4px; }
button { padding: 8px 12px; }
</style>
</head>
<body>
<h2>Shorten URL</h2>
<form id="form">
<input id="url" placeholder="https://example.com/long-url" size="60" required />
<input id="alias" placeholder="custom alias (optional)" />
<button type="submit">Shorten</button>
</form>
<div id="result"></div>


<script>
const form = document.getElementById('form');
form.onsubmit = async (e) => {
e.preventDefault();
const longUrl = document.getElementById('url').value;
const customAlias = document.getElementById('alias').value || undefined;
const res = await fetch('/api/shorten', {
method: 'POST',
headers: { 'Content-Type': 'application/json' },
body: JSON.stringify({ longUrl, customAlias })
});
const data = await res.json();
if (res.ok) {
document.getElementById('result').innerHTML = `<a href="${data.shortUrl}" target="_blank">${data.shortUrl}</a>`;
} else {
document.getElementById('result').innerText = data.error || 'Error';
}
};
</script>
</body>
</html>
